<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Reservas</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  <!-- Header -->
  <link rel="stylesheet" href="Header.css"/>
  <script src="Header.js" defer></script>

  <!-- Hoja principal del sitio -->
  <link rel="stylesheet" href="estilo4.css"/>

  <!-- Ajustes layout + mapa -->
  <style>
    /* Página en 2 columnas */
    
    .page-layout{
  display:flex;
  width:100%;
  height:calc(100vh - 72px);
}
   .left-col  { flex:0 0 60%; height:100%; overflow-y:auto; }
.right-col { flex:0 0 40%; height:100%; }
    /* Contenedor blanco (grid) pegado a la izquierda */
    .airbnb-wrapper{
  background:#fff;
  margin:2rem;                 /* antes era 2rem 1rem 2rem 2rem */
  padding:2rem;
  border-radius:12px;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
}
    /* Grid fijo 4×4 */
    .ap-grid       { display:grid; grid-template-columns:repeat(4,1fr); gap:1.5rem; }
    @media(max-width:767.98px){ .ap-grid{grid-template-columns:repeat(2,1fr);} }

    /* Tarjeta + hover */
    .ap-link       { display:block; text-decoration:none; color:inherit; }
    .ap-card       { display:flex; flex-direction:column; height:100%;
                     transition:transform .15s, box-shadow .15s; }
    .ap-link:hover .ap-card{ transform:translateY(-3px);
                              box-shadow:0 6px 16px rgba(0,0,0,.12);}
    .ap-card img   { height:100px; width:100%; object-fit:cover; border-radius:10px; }
    .rating        { font-weight:600; color:#000; }
    .price         { font-weight:700; color:#5A31F4; }

    /* Mapa ocupa todo el alto de la columna derecha */
    #map           { height:100%; width:100%; }
  </style>
</head>

<body>
  <div class="page-layout">
    <!-- COLUMNA IZQUIERDA (GRID) -->
    <div class="left-col">
      <div class="airbnb-wrapper">
        <h2 class="text-center mb-4">Alojamientos recomendados</h2>
        <div class="ap-grid" id="apartmentGrid">

          <!-- Tarjeta 1 -->
          <a class="ap-link" href="" data-id="apt1">
            <div class="ap-card">
              <img src="https://hips.hearstapps.com/hmg-prod/images/6-antiguo-almacen-convertido-loft-muebles-diseno-vintage-salon-vigas-madera-1660741511.jpg?resize=980:*" alt="Loft moderno">
              <div class="card-body">
                <div class="rating">&#9733;&nbsp;4.9</div>
                <strong>Loft moderno</strong><br>
                <span>Lima, Perú</span><br>
                <span class="price">S/&nbsp;240&nbsp;/noche</span>
              </div>
            </div>
          </a>

          <!-- Tarjeta 2 -->
          <a class="ap-link" href="" data-id="apt2">
            <div class="ap-card">
              <img src="https://nexoinmobiliario.pe/blog/wp-content/uploads/2023/01/ventana-vista-frente-mar-nexo-inmobiliario.jpg" alt="Depto frente al mar">
              <div class="card-body">
                <div class="rating">&#9733;&nbsp;4.7</div>
                <strong>Departamento frente al mar</strong><br>
                <span>Máncora, Perú</span><br>
                <span class="price">S/&nbsp;320&nbsp;/noche</span>
              </div>
            </div>
          </a>

          <!-- Tarjeta 3 -->
          <a class="ap-link" href="" data-id="apt3">
            <div class="ap-card">
              <img src="https://imagenes.20minutos.es/files/image_640_480/files/fp/uploads/imagenes/2023/01/27/vistas-panoramicas-desde-el-salon-del-atico-del-mandarin-oriental-residences-en-barcelona.r_d.804-378-6201.jpeg" alt="Ático panorámico">
              <div class="card-body">
                <div class="rating">&#9733;&nbsp;4.8</div>
                <strong>Ático con vista panorámica</strong><br>
                <span>Cusco, Perú</span><br>
                <span class="price">S/&nbsp;450&nbsp;/noche</span>
              </div>
            </div>
          </a>

          <!-- Tarjeta 4 -->
          <a class="ap-link" href="" data-id="apt4">
            <div class="ap-card">
              <img src="https://content.elmueble.com/medio/2021/10/14/dsc2037-8d39c55e-1200x801_d4f42dae_1200x801.jpg" alt="Casa rústica">
              <div class="card-body">
                <div class="rating">&#9733;&nbsp;5.0</div>
                <strong>Casa rústica acogedora</strong><br>
                <span>Arequipa, Perú</span><br>
                <span class="price">S/&nbsp;280&nbsp;/noche</span>
              </div>
            </div>
          </a>

          <!-- Tarjeta 5 -->
<a class="ap-link" href="" data-id="apt5">
  <div class="ap-card">
    <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=720&q=80" alt="Bungalow ecológico">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.6</div>
      <strong>Bungalow ecológico</strong><br>
      <span>Tarapoto, Perú</span><br>
      <span class="price">S/&nbsp;310&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 6 -->
<a class="ap-link" href="" data-id="apt6">
  <div class="ap-card">
    <img src="https://dbdzm869oupei.cloudfront.net/img/photomural/preview/56054.png" alt="Cabaña junto al lago">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.7</div>
      <strong>Cabaña junto al lago</strong><br>
      <span>Puno, Perú</span><br>
      <span class="price">S/&nbsp;350&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 7 -->
<a class="ap-link" href="" data-id="apt7">
  <div class="ap-card">
    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=720&q=80" alt="Estudio céntrico">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.5</div>
      <strong>Estudio céntrico</strong><br>
      <span>Trujillo, Perú</span><br>
      <span class="price">S/&nbsp;190&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 8 -->
<a class="ap-link" href="" data-id="apt8">
  <div class="ap-card">
    <img src="https://cuscoperu.b-cdn.net/wp-content/uploads/2023/04/Mesa-de-trabajo-1casa-inca-gartcilaso.jpg" alt="Casa colonial restaurada">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.8</div>
      <strong>Casa colonial restaurada</strong><br>
      <span>Cajamarca, Perú</span><br>
      <span class="price">S/&nbsp;300&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 9 -->
<a class="ap-link" href="" data-id="apt9">
  <div class="ap-card">
    <img src="https://www.hola.com/horizon/original_aspect_ratio/f0dc8c69c16f-loft-antrax-1a-a.jpg" alt="Loft industrial chic">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.6</div>
      <strong>Loft industrial</strong><br>
      <span>Arequipa, Perú</span><br>
      <span class="price">S/&nbsp;260&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 10 -->
<a class="ap-link" href="" data-id="apt10">
  <div class="ap-card">
    <img src="https://nexoinmobiliario.pe/blog/wp-content/uploads/2022/05/7-ventajas-comprar-departamento-terraza.jpg" alt="Departamento con terraza">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.7</div>
      <strong>Departamento con terraza</strong><br>
      <span>Lima (Barranco), Perú</span><br>
      <span class="price">S/&nbsp;380&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 11 -->
<a class="ap-link" href="" data-id="apt11">
  <div class="ap-card">
    <img src="https://images.unsplash.com/photo-1570129477492-45c003edd2be?auto=format&fit=crop&w=720&q=80" alt="Glamping de lujo">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.9</div>
      <strong>Glamping de lujo</strong><br>
      <span>Paracas, Perú</span><br>
      <span class="price">S/&nbsp;420&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 12 -->
<a class="ap-link" href="" data-id="apt12">
  <div class="ap-card">
    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/462138725.jpg?k=abfa758a5dbf5a0bb18c72762de7b474029d63676f91e90482cbdb8ef249133f&o=&hp=1" alt="Domo andino">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.8</div>
      <strong>Domo andino</strong><br>
      <span>Huaraz, Perú</span><br>
      <span class="price">S/&nbsp;330&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 13 -->
<a class="ap-link" href="" data-id="apt13">
  <div class="ap-card">
    <img src="https://images.unsplash.com/photo-1507089947368-19c1da9775ae?auto=format&fit=crop&w=720&q=80" alt="Villa tropical">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.5</div>
      <strong>Villa tropical</strong><br>
      <span>Zorritos, Perú</span><br>
      <span class="price">S/&nbsp;390&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 14 -->
<a class="ap-link" href="" data-id="apt14">
  <div class="ap-card">
    <img src="https://i.pinimg.com/564x/b5/04/e6/b504e6cf976c938fbcaab44b397cfa6b.jpg" alt="Mini suite moderna">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.4</div>
      <strong>Mini suite moderna</strong><br>
      <span>Chiclayo, Perú</span><br>
      <span class="price">S/&nbsp;200&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 15 -->
<a class="ap-link" href="" data-id="apt15">
  <div class="ap-card">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaHeH2ExyAypFlX7Zgh1Is3xeUPYDoMk4N6g&s" alt="Chalet alpino">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.8</div>
      <strong>Chalet alpino</strong><br>
      <span>Oxapampa, Perú</span><br>
      <span class="price">S/&nbsp;310&nbsp;/noche</span>
    </div>
  </div>
</a>

<!-- Tarjeta 16 -->
<a class="ap-link" href="" data-id="apt16">
  <div class="ap-card">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaHeH2ExyAypFlX7Zgh1Is3xeUPYDoMk4N6g&s" alt="Casa de playa moderna">
    <div class="card-body">
      <div class="rating">&#9733;&nbsp;4.6</div>
      <strong>Casa de playa moderna</strong><br>
      <span>Punta Hermosa, Perú</span><br>
      <span class="price">S/&nbsp;370&nbsp;/noche</span>
    </div>
  </div>
</a>
</div> 
  </div>   
</div> 

    <!-- COLUMNA DERECHA (MAPA) -->
    <div class="right-col">
      <div id="map"></div>
    </div>
  </div>

  <!-- ─────  SCRIPTS  ───── -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Lógica Leaflet + tarjetas -->
  <script>
    const apartments = [
  { id:'apt1', name:'Loft moderno',           lat:-12.0464, lng:-77.0428 },
  { id:'apt2', name:'Depto frente al mar',    lat: -4.1089, lng:-81.1528 },
  { id:'apt3', name:'Ático panorámico',       lat:-13.5320, lng:-71.9675 },
  { id:'apt4', name:'Casa rústica acogedora', lat:-16.4090, lng:-71.5375 },

  { id:'apt5', name:'Bungalow ecológico',     lat: -6.4776, lng:-76.3730 },
  { id:'apt6', name:'Cabaña junto al lago',   lat:-15.8402, lng:-70.0219 },
  { id:'apt7', name:'Estudio céntrico',       lat: -8.1120, lng:-79.0280 },
  { id:'apt8', name:'Casa colonial',          lat: -7.1619, lng:-78.5100 },
  { id:'apt9', name:'Loft industrial chic',   lat:-16.3989, lng:-71.5350 },
  { id:'apt10',name:'Depto con terraza',      lat:-12.1446, lng:-77.0212 },
  { id:'apt11',name:'Glamping de lujo',       lat:-13.8331, lng:-76.2707 },
  { id:'apt12',name:'Domo andino',            lat:-9.5278,  lng:-77.5278 },
  { id:'apt13',name:'Villa tropical',         lat: -3.6818, lng:-80.8631 },
  { id:'apt14',name:'Mini suite moderna',     lat: -6.7735, lng:-79.8440 },
  { id:'apt15',name:'Chalet alpino',          lat:-10.5761, lng:-75.4011 },
  { id:'apt16',name:'Casa de playa moderna',  lat:-12.3227, lng:-76.7864 }
];

    const map = L.map('map').setView([-9.19, -75.0152], 5);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
      attribution:'© OpenStreetMap'
    }).addTo(map);

    apartments.forEach(ap =>{
      const marker = L.marker([ap.lat, ap.lng]).addTo(map)
        .bindPopup(`<strong>${ap.name}</strong>`);
      marker.on('click', ()=> highlightCard(ap.id));
    });

    map.on('click', e=>{
      const radiusKm = 3;
      apartments.forEach(ap=>{
        const dist = map.distance(e.latlng, L.latLng(ap.lat, ap.lng))/1000;
        toggleCard(ap.id, dist <= radiusKm);
      });
    });

    function highlightCard(id){
      document.querySelectorAll('.ap-card').forEach(c=>c.classList.remove('border','border-primary'));
      const card = document.querySelector(`[data-id="${id}"] .ap-card`);
      if(card){
        card.classList.add('border','border-primary');
        card.scrollIntoView({behavior:'smooth',block:'center'});
      }
    }
    function toggleCard(id, show){
      const link = document.querySelector(`[data-id="${id}"]`);
      if(link) link.style.opacity = show ? '1' : '0.25';
    }
  </script>
</body>
</html>
